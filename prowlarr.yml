---
id: dfindexer
name: DF Indexer
description: "Python Torrent Indexing for Brazilian"
language: pt-BR
type: public
encoding: UTF-8
links:
  - http://dfindexer:7006/

caps:
  categories:
    Movies: Movies
    TV: TV

  modes:
    search: [q]
    tv-search: [q, season, ep]
    movie-search: [q]

settings:
  - name: scraper_type
    type: select
    label: Scraper
    default: "1"
    options:
      "1": Starck
      "2": Rede
      "3": Limon
      "4": Tfilme
      "6": Comando
      "7": Bludv
      "8": Portal
  
  - name: use_flaresolverr
    type: select
    label: Usar FlareSolverr
    default: "false"
    options:
      "true": "Sim"
      "false": "Não"

search:
  paths:
    - path: "/indexers/{{ .Config.scraper_type }}"
      response:
        type: json
  inputs:
    filter_results: "false"
    use_flaresolverr: "{{ .Config.use_flaresolverr }}"
    q: "{{ .Keywords }}"
  keywordsfilters:
    - name: tolower
    - name: re_replace
      args: ["(?i)(S0)(\\d{1,2})$", "temporada $2"]
    - name: re_replace
      args: ["(?i)(S)(\\d{1,3})$", "temporada $2"]

  rows:
    selector: $.results
    count:
      selector: $.count
      optional: true

  fields:
    download:
      selector: magnet_link
    title:
      selector: title
    description:
      selector: original_title
    details:
      selector: details
    infohash:
      selector: info_hash
    date:
      selector: date
    size:
      selector: size
      optional: true
      filters:
        - name: re_replace
          args: ["^(|0 B|0B)$", "2,5 GB"]
    seeders:
      selector: seed_count
      filters:
        - name: re_replace
          args: ["^(|null|0)$", "1"]
    leechers:
      selector: leech_count
      filters:
        - name: re_replace
          args: ["^(|null|0)$", "1"]
    imdb:
      selector: imdb
    category_is_tv_show:
      selector: title
      filters:
        - name: regexp
          args: "(?i)(temporada|season|S\\d{1,3}E\\d{1,3}|\\bS\\d{1,3}\\b|\\d+x\\d+|série|series|episódio|episode|EP\\d+|1ª|2ª|3ª|4ª|5ª|6ª|7ª|8ª|9ª|10ª|completa)"
    category:
      text: "{{ if .Result.category_is_tv_show }}TV{{ else }}Movies{{ end }}"

